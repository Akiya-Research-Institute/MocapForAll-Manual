# 更新履歴

## v1.16.0 (2022/03/13)
- UE Mannequinのキャラクターを追加しました。
- モーションデータをFBXファイルとしてエクスポートする機能を追加しました。

## v1.15.0 (2021/12/19)
- デフォルトの背景と照明を見直し、見やすくしました。
- ビューポートのレンダリングを停止する機能を追加しました
- 体のトラッキングの結果を2Dでプレビューする機能を追加しました。
- キャラクターの下半身の動きを止める機能を追加しました。
- ビデオを使っていて、「Capture face」がオンのとき、BVHエクスポートが開始されるとアプリがクラッシュするバグを修正しました。

## v1.14.0 (2021/10/29)
- ハンドトラッキング用のAIを更新しました。（MediaPipe Handの最新バージョンへ）
- ハンドトラッキングの結果を2Dでプレビューする機能を追加しました。
- カメラのタイミングを合わせるために、カメラの入力を遅らせる機能を追加しました。（遅延時間はミリ秒単位で手動指定する必要があり、まだ実用性は低いです）
- カメラプレビュー画像のアスペクト比を維持するようにカメラプレビューUIを変更しました。
- カメラプレビュー画像を拡大表示する機能を追加しました。

## v1.13.3 (2021/10/11)
- DirectShowを使用すると、カメラのプレビューが表示されないバグを修正しました。
- フランス語の翻訳を更新しました。

## v1.13.1 (2021/10/6)
- 共有メモリの設定情報が正しく保存されないバグを修正しました。
- 共有メモリの出力仕様の誤植を修正しました。
- 混入していた不要なファイルを削除しました。

## v1.13 (2021/10/5)
- フランス語表示を追加しました。
- ボーンのトランスフォームと表情の生データを共有メモリにエクスポートする機能を追加しました。
- コマンドライン引数で指定した場合に、起動時に「StartCapture」と「LoadAllCameras」を実行する関数を追加しました。 （例：MocapForAll.exe StartCapture LoadAllCameras）
- 「As controllers」がオフのときに、手のVMTトラッカーが送信されないバグを修正しました。

## v1.12 (2021/9/17)
- トラッキング開始時に人物を検出するためのAIモデルを、v1.10と同じものに戻しました（MediaPipe Pose → YOLOv4）。
- 録画した動画からモーションキャプチャする機能を追加しました。

## v1.11 (2021/9/13)
- トラッキング開始時に人物を検出するためのAIモデルを変更しました（YOLOv4 → MediaPipe Pose）。処理が少し軽くなりました。
- 手の分のVMTをコントローラとして送信する機能を追加しました。
- 全ての体の部位について仮想トラッカーのオフセットを調整するオプションを追加しました。
- スクロールバーの横に値を微修正するためのボタンを追加しました。
- カメラ名をビューポート上に表示する機能を追加しました。
- アプリ起動時に「座標をVRに合わせる」ボタンが常に表示されるバグを修正しました。
- アプリ初回起動時に、言語を自動的に設定する機能を追加しました。（一部の言語で数値が正しく扱えない問題への対策）

## v1.10 (2021/9/4)
- [SteamVRとMocapForAllの座標を自動的に一致させる機能](http://localhost:8000/MocapForAll-Manual/how-to-export/to-steamvr/#steamvrmocapforall)を追加しました。  

## v1.9.1 (2021/8/23)
- 様々な種類のMetaHumanモデルを追加しました。

## v1.9 (2021/8/21)
- 日本語表示が追加されました。
- マウスオーバーで表示されるヘルプを追加しました。
- マウスの中ボタンを押しながらドラッグおよびマウスホイールで視点を移動する機能を追加しました。

## v1.8 (2021/8/17)
- v1.6の更新内容がv1.7に含まれていなかった問題を修正しました。
- VMCプロトコルで送信されるRootボーンのRotationが無効な値になっているバグを修正しました。これにより、VMC4UEでモーションを受信できなかった問題が修正されます。
- 背が低いキャラクターを使用したとき足が地面から離れない問題を修正しました。（下半身のスケールに応じて、足の接地の強度を自動調整するように変更しました。）
- BVHファイルのHipsボーンの名前がモデルに基づいていないバグを修正しました。
- ルートモーションなしでBVHファイルをエクスポートするオプションを追加しました。水平方向にのみ移動するルートを持つBVHファイルをエクスポートするオプションを削除しました。

## v1.7 (2021/8/7)
- 「Speed」と「Speed+」モードで使うAIを更新しました。(MovenetV1からV4に更新)
- 地面の位置と向きを自動的に調整する機能を追加しました。
- カメラ外部パラメータのキャリブレーションを、人体の動きを使って自動的に実行する機能を追加しました。

## v1.6 (2021/7/31)
- VMCプロトコルで送信されるボーン名の最初の文字が大文字になっていないバグを修正しました。  
	（この変更により、VSeeFaceなどの一部のアプリがMocapForAllからボーン情報を受信できなかった問題が修正されます）
- VMCプロトコルによって送信されるメッセージをとして、下記のメッセージが追加で送信されるようになりました：
	- /VMC/Ext/Root/Pos (値は常に 0 (Rootは原点に固定))
	- /VMC/Ext/OK       (値は常に 1)
	- /VMC/Ext/T
	- /VMC/Ext/Tra/Pos  (これにより、VirtualMotionCaptureなどの一部のアプリがMocapForAllからトラッカーとしてデータを受信できるようになります。)
- VMCプロトコルによって送信されるバンドル（パケット）を1500Byteを超えないように分割しました。
- VMCプロトコルの受信に関する設定が保存されないバグを修正しました。
- キャラクタを変更するとVMCプロトコルを受信できなくなるバグを修正しました。
- BVHファイルのボーン階層にRootボーンを追加するオプションを追加しました。

## v1.5（2021/7/22）
- VMCプロトコルを介してモーションデータを「Performer」としてエクスポートする機能を追加しました。
- VMCプロトコルを介して「Assistant」から顔のモーフデータを受信し、「Performer」として送信する機能を追加しました。
- 前回ユーザがロードしたVRMファイルを、自動的にロードする機能を追加しました。
- キャリブレーション結果が疑わしい場合に、警告を表示する機能を追加しました。

## v1.4.1 (2021/07/18)
- データをBVHファイルとしてエクスポートする機能を追加しました。
- カメラのセットアップ全体を保存およびロードする機能が追加されました。
- VRMモデルへのアニメーションのリターゲットが改善されました。
- 一部のカメラが「UE4 Media Player」モードで動作しないバグを修正しました。
- Apendix2がインストールされていない場合にChroma-keyマップをロードできないバグを修正しました。

## v1.3 (2021/07/10)
- 標準のWebカメラ操作用のライブラリを変更しました。  
    新しいライブラリはUE4のMediaPlayerを使用するものであり、高解像度でのパフォーマンスが向上した一方、仮想カメラが（おそらく）使用できません。  
    従来通り仮想カメラを使用する場合は、Add Cameraのプルダウンから「DirectShow」を選択してください。
- 計算に使用するGPUを選択する機能を追加しました。
- 検出したマーカ位置をリセットするボタンを追加しました。
- 3Dビューポートの視点をリセットする機能を追加しました。
- 3Dビューポートの視点をキャラクターに追従させる機能を追加しました。
- 右足の仮想トラッカーのオフセット値が、起動時に正しくロードされていなかったバグを修正しました。
- FPSの表示方法を変更しました。
- 一部の機能をキーボードから操作可能にしました。（スペースキー：キャプチャの開始/停止、F：3Dビューポートの視点をリセット）
- インストールの方式を変更しました。  
    Precisionモード、HDRIマップ、MetaHumanキャラクタ、TensorRTモードは、オプション扱いとなりました。  
    簡単にインストールできるよう、ネットワークインストーラが追加されました。

## v1.2 (2021/07/03)
- 3Dビューポートにカメラの位置を表示する機能を追加しました。
- 複数のArUcoマーカを使用してカメラの外部パラメータのキャリブレーションを行う機能を追加しました。
- 複数のChArUcoダイヤモンドマーカを使用してカメラの外部パラメータのキャリブレーションを行う機能を追加しました。
- トラッキングスペースのスケールを定義するために使用されるマーカのサイズを入力する機能が追加されました。

## v1.1 (2021/06/25)
- GPU_CUDA モードは削除されました。
- GPU_DirectML モードが追加されました。  
	DirectMLは、DirectX 12に対応するGPUでGPUアクセラレーションを提供します。  
	使用可能なGPUは次の通りです。
	- NVIDIA Kepler（GTX 600シリーズ）以降
	- AMD GCN 1st Gen（Radeon HD 7000シリーズ）以降
- CPU版とGPU版が統合されました。
	
## v1.0.1
- カメラ画像を反転させる機能を追加しました。

## v1.0
- v0.2から変更なし(フル版とバージョン番号を一致させるため)

## v0.2
- カメラ
	- Webカメラ操作用のライブラリをOpenCVからDirectShowに変更しました。
	- カメラ名の表示を追加しました。
	- カメラの画像サイズの変更機能を追加しました。
- キャリブレーション
	- ユーザーがキャリブレーションの「Start」をクリックしたときに、キャリブレーション情報をリセットする機能を追加しました。
	- ユーザーがカメラを変更したときに、キャリブレーション情報をリセットする機能を追加しました。
	- カメラキャリブレーション時の検出状況を別ウィンドウに表示するように変更しました。
- データエクスポート
	- ユーザーが「As relative position to HMD」をクリックしたときにVMTの「SetAutoPoseUpdate」オプションを自動的に有効にする機能を追加しました。
	- HMDシリアル番号を指定するためのテキストボックスを削除しました。（vmt_010以前はサポートされなくなりました）
	- 腰と足の仮想トラッカーのオフセットを調整するオプションを追加しました。
- UI
	-「Settings」メニューにスクロールバーを追加しました。
	- 一部の設定項目はキャプチャが停止している場合にのみ変更可能という制限が追加されました。
	-「Settings > Coordinates > Scales」のスライダーの最大値を2から5に変更しました。
	- カメラプレビューでトラッキング位置を描画する機能を削除しました。
- インストール
	- インストール用のunzipコマンドファイルを追加しました。
	- アプリの実行に必要のないpdbファイルを削除しました。
